<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.6.1">
<title>Valerian Rey - Project Portfolio</title>
<link rel="stylesheet" href="../stylesheets/gh-pages.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css">
<link rel="stylesheet" href="../stylesheets/coderay-asciidoctor.css">
</head>
<body class="article">
<div id="header">
<h1>Valerian Rey - Project Portfolio</h1>
</div>
<div id="content">
<div class="sect1">
<h2 id="project-addressbook-level-4"><a class="link" href="#project-addressbook-level-4">PROJECT: AddressBook - Level 4</a></h2>
<div class="sectionbody">
<hr>
</div>
</div>
<div class="sect1">
<h2 id="overview"><a class="link" href="#overview">Overview</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>AddressBook - Level 4 is a desktop address book application used for teaching Software Engineering principles. The user interacts with it using a CLI, and it has a GUI created with JavaFX. It is written in Java, and has about 10 kLoC.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="summary-of-contributions"><a class="link" href="#summary-of-contributions">Summary of contributions</a></h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><strong>Major enhancement</strong>: added <strong>the ability create/edit/remove insurance policies, and to display and store them</strong></p>
<div class="ulist">
<ul>
<li>
<p>What it does: allows the user to create policies using <code>add_policy</code>, edit them using <code>edit_policy</code> and remove them using <code>remove_policy</code>.</p>
</li>
<li>
<p>Justification: This feature is important because it is a key tool to any insurance agent to keep track of which "product" each client has applied to.</p>
</li>
<li>
<p>Highlights: This enhancement adds 3 new commands. It required me to understand the parsing operations. Parsing a Policy-related command can be quite complicated,
because it needs understanding of required fields, optional fields and optional multiple fields parsing. This results in a lot of code in the parser files. Since the Policy is an optional attribute of each person,
the implementation of the storage of the policies was quite tricky too, but the resulting code is actually pretty short, so I did not include it in the collated folder.</p>
</li>
<li>
<p>Credits: I want to give credit to the structure of some commands, that inspired me to make the <code>add_policy</code> and <code>edit_policy</code> commands. For example, <code>edit_policy</code> takes the
idea of <code>EditPersonDescriptor</code> from <code>EditCommand</code>. I had to name this class as <code>EditPolicyDescriptor</code> and modify it to make it fit the <code>EditPolicyCommand</code>, so I claimed it as my own in the end.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Minor enhancement</strong>: added the <code>policy</code> package to the model. It contains the enumerations <code>Issue</code> and <code>Month</code>, and the classes <code>Policy</code>, <code>Date</code>, <code>Coverage</code> and <code>Price</code>.
This strongly linked to my major enhancement, as it is a requirement to make the latter possible. But since it could be developed independently from the rest, I chose this as my minor enhancement.
The implementation was also a bit easier, even if I had to come up with some good algorithms to check the correctness of each parameters.</p>
</li>
<li>
<p><strong>Code contributed</strong>:</p>
<div class="ulist">
<ul>
<li>
<p>Functional : [<a href="https://github.com/CS2103JAN2018-T15-B2/main/blob/master/collated/functional/ValerianRey.md" class="bare">https://github.com/CS2103JAN2018-T15-B2/main/blob/master/collated/functional/ValerianRey.md</a>]</p>
</li>
<li>
<p>Test : [<a href="https://github.com/CS2103JAN2018-T15-B2/main/blob/master/collated/test/ValerianRey.md" class="bare">https://github.com/CS2103JAN2018-T15-B2/main/blob/master/collated/test/ValerianRey.md</a>]</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Other contributions</strong>:</p>
<div class="ulist">
<ul>
<li>
<p>Community:</p>
<div class="ulist">
<ul>
<li>
<p>Reported bugs and suggestions for other teams in the class (examples:  <a href="https://github.com/CS2103JAN2018-W14-B1/main/issues/138" class="bare">https://github.com/CS2103JAN2018-W14-B1/main/issues/138</a>, <a href="https://github.com/CS2103JAN2018-W14-B1/main/issues/136" class="bare">https://github.com/CS2103JAN2018-W14-B1/main/issues/136</a>)</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="contributions-to-the-user-guide"><a class="link" href="#contributions-to-the-user-guide">Contributions to the User Guide</a></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Given below are sections I contributed to the User Guide. They showcase my ability to write documentation targeting end-users.</em></p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="add-a-policy-code-add_policy-code"><a class="link" href="#add-a-policy-code-add_policy-code">Add a policy : <code>add_policy</code></a></h3>
<div class="paragraph">
<p>Add a policy to a person in the address book.</p>
</div>
<div class="paragraph">
<p>Format: <code>add_policy INDEX beg/BEGINNING DATE exp/EXPIRATION DATE pr/PRICE [is/ISSUE]&#8230;&#8203;</code></p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
A person can have any number of issues covered (including 0)
These can be added later with <code>edit_policy</code>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>add_policy 1 beg/01/04/2018 exp/02/04/2020 pr/140 is/car_damage is/theft</code></p>
</li>
<li>
<p><code>add_policy 3 beg/01/02/2018 exp/28/02/2018 pr/120</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="edit-a-policy-code-edit_policy-code"><a class="link" href="#edit-a-policy-code-edit_policy-code">Edit a policy : <code>edit_policy</code></a></h3>
<div class="paragraph">
<p>Edit the policy of a person in the address book.</p>
</div>
<div class="paragraph">
<p>Format: <code>edit_policy INDEX [beg/BEGINNING DATE] [exp/EXPIRATION DATE] [pr/PRICE] [is/ISSUE]&#8230;&#8203;</code></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>Edits the policy of the person at the specified <code>INDEX</code>. The index refers to the index number shown
in the last person listing. The index <strong>must be a positive integer</strong> 1, 2, 3, &#8230;&#8203;</p>
</li>
<li>
<p>At least one of the optional fields must be provided.</p>
</li>
<li>
<p>Existing values will be updated to the input values.</p>
</li>
<li>
<p>When editing issues, the existing issues of the policy will be removed i.e adding of issues is not cumulative.</p>
</li>
<li>
<p>You can remove all the policy&#8217;s issues by typing <code>is/</code> without specifying any issue after it.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>edit_policy 2 beg/01/07/2018 exp/02/04/2019</code></p>
</li>
<li>
<p><code>edit_policy 1 pr/100</code></p>
</li>
<li>
<p><code>edit_policy 4 pr/150 is/theft is/house_damage</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="remove-a-policy-code-remove_policy-code"><a class="link" href="#remove-a-policy-code-remove_policy-code">Remove a policy : <code>remove_policy</code></a></h3>
<div class="paragraph">
<p>Remove the policy of a person in the address book.</p>
</div>
<div class="paragraph">
<p>Format: <code>remove_policy INDEX</code></p>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>remove_policy 1</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="contributions-to-the-developer-guide"><a class="link" href="#contributions-to-the-developer-guide">Contributions to the Developer Guide</a></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Given below are sections I contributed to the Developer Guide. They showcase my ability to write technical documentation and the technical depth of my contributions to the project.</em></p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="policy-feature"><a class="link" href="#policy-feature">Policy Feature</a></h3>
<div class="paragraph">
<p>The <code>Policy</code> field is an optional field attached to a person. It contains all the data
about an insurance contract that a person applied to (if any).
A policy is defined by 4 fields : a beginning date, an expiration date, a price and a list of issues
covered. Each of these fields must be individually valid during the creation of a Policy, and the beginning
date needs to be prior to the expiration date.</p>
</div>
<div class="sect3">
<h4 id="policy-date"><a class="link" href="#policy-date">Policy Date</a></h4>
<div class="paragraph">
<p>A <code>Date</code> inside of the Policy contains 3 fields : the day, the month and the year.
The month is represented using the <code>Month</code> enumeration. The day and the year are just Integers.
Each time a Date is created, its correctness is checked.
The Policy that a Person applied to (if any) is displayed at the end of the card of a Person
(see <code>PersonListCard.fxml</code>).</p>
</div>
</div>
<div class="sect3">
<h4 id="policy-price"><a class="link" href="#policy-price">Policy Price</a></h4>
<div class="paragraph">
<p>A <code>Price</code> inside of the Policy is just a positive or zero Integer. Each time a Price is created,
its correctness is checked.</p>
</div>
</div>
<div class="sect3">
<h4 id="policy-coverage"><a class="link" href="#policy-coverage">Policy Coverage</a></h4>
<div class="paragraph">
<p>The list of issues covered by a Policy comes in the form of the <code>Coverage</code> object. It contains a <code>List&lt;Issue&gt;</code>.
<code>Issue</code> is an enumeration that tries to cover the main issues that an insurance could possibly cover. This enumeration
should be frequently updated to make sure that the insurance agent working with our app does not face a case where
the desired issue does not exist.
A Coverage can be empty, meaning that the Policy won&#8217;t cover any issue. This possibility should be used with the
intention to edit the policy later, and add some issues to its Coverage.</p>
</div>
</div>
<div class="sect3">
<h4 id="implementation-in-person"><a class="link" href="#implementation-in-person">Implementation in Person</a></h4>
<div class="paragraph">
<p>Since it is optional for a person in the address book to apply to a contract, the Policy field comes in the form
of <code>Optional&lt;Policy&gt;</code>. This is technically breaking a java convention, because Optional
should not be used for class fields, but it was a very easy and logical way to implement
this. Optional fields should be avoided in the first place, but when it is too cumbersome
to do so, the <code>Optional&lt;T&gt;</code> type is very handy. The Policy field is persistent. It is stored via <code>XmlElement</code> in
<code>XmlAdaptedPerson</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="adding-a-policy"><a class="link" href="#adding-a-policy">Adding a Policy</a></h4>
<div class="paragraph">
<p>In order to add a Policy to a Person in the address book, it is required to use the <code>add_policy</code> command. This command
asks the user to specify the index of the target user, the dates, the price and the issues covered by the Policy.
The command is detected in the <code>AddressBookParser</code>, then its arguments are sent to the <code>AddPolicyCommandParser</code>,
which detects them using some parsing methods from <code>ParseUtil</code> that can retrieve the Dates, the Price and the potential
Issues. An <code>AddPolicyCommand</code> is then created and executed to add the policy to the person in the address book.</p>
</div>
</div>
<div class="sect3">
<h4 id="editing-a-policy"><a class="link" href="#editing-a-policy">Editing a Policy</a></h4>
<div class="paragraph">
<p>If the user wants to edit a Policy, he must use the <code>edit_policy</code> command. He has to enter the index of the target user,
and at least one field to edit.
The parsing of this command works the same as for <code>add_policy</code>, but using <code>EditPolicyCommandParser</code> and creating an
<code>EditPolicyCommand</code>. Also inside of the <code>EditPolicyCommand</code> there is a nested class <code>EditPolicyDescriptor</code> which was
inspired from the <code>EditPersonDescriptor</code> of the <code>EditCommand</code>. It works in the same manner, but with fields adapted to
<code>Policy</code> and not to <code>Person</code>. To summarize, it describes what fields should be edited in the <code>Policy</code>, and how.</p>
</div>
</div>
<div class="sect3">
<h4 id="removing-a-policy"><a class="link" href="#removing-a-policy">Removing a Policy</a></h4>
<div class="paragraph">
<p>To remove a Policy, the user should use the <code>remove_policy</code> command. He then only has to enter the index of the target
user. The parsing of this command is pretty straightforward since it only has the index parameter, and it is done in
<code>RemovePolicyCommandParser</code>. The command created is of type <code>RemovePolicyCommand</code>.</p>
</div>
<hr>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2018-04-15 09:06:37 UTC
</div>
</div>
</body>
</html>